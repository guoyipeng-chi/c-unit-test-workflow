# LLM-Based UT Generation Workflow - å®Œæ•´ç³»ç»Ÿæ€»ç»“

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æˆåŠŸæ„å»ºäº†ä¸€ä¸ª**AIé©±åŠ¨çš„å®Œæ•´Cå•å…ƒæµ‹è¯•ç”Ÿæˆç³»ç»Ÿ**ï¼Œå°†ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶æ— ç¼æ•´åˆï¼š

- **è¿œç¨‹vLLMæœåŠ¡** + **Qwen3 Coderå¤§æ¨¡å‹** (32B)ï¼šé«˜è´¨é‡ä»£ç ç”Ÿæˆ
- **compile_commands.json** + **ç¼–è¯‘ä¿¡æ¯è§£æå™¨**ï¼šç²¾ç¡®çš„ç¼–è¯‘ä¸Šä¸‹æ–‡
- **Cä»£ç åˆ†æå™¨**ï¼šå‡½æ•°ç­¾åå’Œä¾èµ–å…³ç³»æå–
- **Google Testæ¡†æ¶**ï¼šç”Ÿäº§çº§å•å…ƒæµ‹è¯•

## ğŸ“¦ ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·ç•Œé¢å±‚                              â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ quickstart   â”‚      â”‚ CLIå‘½ä»¤è¡Œ    â”‚      â”‚ äº¤äº’èœå•   â”‚  â”‚
â”‚  â”‚ _llm.py      â”‚      â”‚ å‚æ•°         â”‚      â”‚ ç•Œé¢       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                  â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                  â”‚                 â”‚
        â”Œâ”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”Œâ”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  ut_workflow_llm  â”‚ â”‚          â”‚ llm_workflow_config â”‚
        â”‚  .py (ä¸»åè°ƒ)     â”‚ â”‚          â”‚ .json (è®¾ç½®)        â”‚
        â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        å·¥ä½œæµå¤„ç†å±‚                â”‚
    â”‚                                    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ æ­¥éª¤1: ä»£ç åˆ†æ               â”‚ â”‚
    â”‚  â”‚ c_code_analyzer.py            â”‚ â”‚
    â”‚  â”‚ â”œâ”€ å‡½æ•°ç­¾åæå–              â”‚ â”‚
    â”‚  â”‚ â”œâ”€ å‚æ•°ç±»å‹è¯†åˆ«              â”‚ â”‚
    â”‚  â”‚ â””â”€ å¤–éƒ¨è°ƒç”¨è¯†åˆ«              â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
    â”‚               â”‚                   â”‚ â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ æ­¥éª¤2: ç¼–è¯‘ä¿¡æ¯æå–           â”‚ â”‚
    â”‚  â”‚ compile_commands_analyzer.py  â”‚ â”‚
    â”‚  â”‚ â”œâ”€ Includeè·¯å¾„               â”‚ â”‚
    â”‚  â”‚ â”œâ”€ å®å®šä¹‰                    â”‚ â”‚
    â”‚  â”‚ â”œâ”€ ä¼˜åŒ–çº§åˆ«                  â”‚ â”‚
    â”‚  â”‚ â””â”€ æ ‡å‡†ç‰ˆæœ¬                  â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
    â”‚               â”‚                   â”‚ â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ æ­¥éª¤3: æç¤ºè¯æ„é€              â”‚ â”‚
    â”‚  â”‚ llm_test_generator.py         â”‚ â”‚
    â”‚  â”‚ â”œâ”€ _build_prompt()            â”‚ â”‚
    â”‚  â”‚ â”œâ”€ ä¸Šä¸‹æ–‡æ•´åˆ                â”‚ â”‚
    â”‚  â”‚ â””â”€ å‚æ•°ä¼˜åŒ–                  â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
    â”‚               â”‚                   â”‚ â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ æ­¥éª¤4: LLMè°ƒç”¨                â”‚ â”‚
    â”‚  â”‚ llm_client.py                 â”‚ â”‚
    â”‚  â”‚ â””â”€ vLLM API é€šä¿¡              â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
    â”‚               â”‚                   â”‚ â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ æ­¥éª¤5: æµ‹è¯•ç”Ÿæˆ               â”‚ â”‚
    â”‚  â”‚ llm_test_generator.py         â”‚ â”‚
    â”‚  â”‚ â”œâ”€ ä»£ç æ¸…ç†                  â”‚ â”‚
    â”‚  â”‚ â””â”€ éªŒè¯å’Œä¿å­˜                â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     åº•å±‚APIå’ŒæœåŠ¡å±‚              â”‚
    â”‚                                  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ vLLM API æ¥å£              â”‚  â”‚
    â”‚  â”‚ (OpenAIå…¼å®¹)               â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                                  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ Qwen3 Coder Model          â”‚  â”‚
    â”‚  â”‚ (32B, å‚æ•°å¾®è°ƒ)            â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                                  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ è¾“å‡ºæ–‡ä»¶ç³»ç»Ÿ               â”‚  â”‚
    â”‚  â”‚ (*_llm_test.cpp)           â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ æ–°å¢æ–‡ä»¶è¯¦ç»†è¯´æ˜

### æ ¸å¿ƒæ¨¡å— (toolsç›®å½•)

#### 1. **llm_client.py** (150è¡Œ)
**èŒè´£**ï¼šä¸vLLMæœåŠ¡é€šä¿¡çš„APIå®¢æˆ·ç«¯

```python
# ä¸»è¦ç±»å’Œæ–¹æ³•
class VLLMClient:
    - __init__(api_base, model, api_key)
    - generate(prompt, temperature, max_tokens)
    - chat_complete(messages, temperature)
    - _check_connection()

# ç‰¹æ€§
- âœ… è‡ªåŠ¨è¿æ¥æ£€æŸ¥
- âœ… è¶…æ—¶å¤„ç†
- âœ… æ—¥å¿—è®°å½•
- âœ… é”™è¯¯æ¢å¤
```

**ä½¿ç”¨åœºæ™¯**ï¼š
```python
client = VLLMClient("http://server:8000", "qwen-coder")
response = client.generate("Generate C test code...", max_tokens=4096)
```

---

#### 2. **compile_commands_analyzer.py** (270è¡Œ)
**èŒè´£**ï¼šè§£æcompile_commands.jsonï¼Œæå–ç¼–è¯‘ä¿¡æ¯

```python
# ä¸»è¦ç±»
class CompileCommandsAnalyzer:
    - analyze_all()
    - get_source_files()
    - get_all_includes()
    - get_all_defines()
    - _extract_includes(command)
    - _extract_defines(command)
    - _extract_c_standard(command)
    - _extract_cxx_standard(command)

# æ”¯æŒç¼–è¯‘å™¨
- âœ… MSVC (/I, /D, /std:)
- âœ… GCC (-I, -D, -std=)
- âœ… Clang (å…¼å®¹GCC)

# æå–çš„ä¿¡æ¯
- Includeç›®å½•
- å®å®šä¹‰
- C/C++æ ‡å‡†ç‰ˆæœ¬
- ä¼˜åŒ–çº§åˆ«
- è­¦å‘Šæ ‡å¿—
```

**æ•°æ®ç»“æ„**ï¼š
```python
@dataclass
class CompileInfo:
    file: str
    directory: str
    command: str
    include_dirs: List[str]
    defines: Dict[str, Optional[str]]
    c_standard: Optional[str]
    cxx_standard: Optional[str]
    optimization: str
    warnings: List[str]
```

---

#### 3. **llm_test_generator.py** (320è¡Œ)
**èŒè´£**ï¼šä½¿ç”¨LLMç”Ÿæˆæµ‹è¯•ä»£ç çš„æ ¸å¿ƒé€»è¾‘

```python
# ä¸»è¦ç±»
class LLMTestGenerator:
    - generate_test_file(func_dep, compile_info, extra_context)
    - generate_batch_tests(func_deps, compile_info_map)
    - _build_prompt(func_dep, compile_info, extra_context)
    - _clean_response(response)
    - _generate_fallback_test(func_dep)

class PromptBuilder:
    - build_header_documentation(header_content)
    - build_source_context(source_code, func_name)

# æç¤ºè¯å†…å®¹
- å‡½æ•°ç­¾åå’Œå‚æ•°
- å¤–éƒ¨ä¾èµ–ï¼ˆéœ€è¦mockï¼‰
- ç¼–è¯‘ä¿¡æ¯å’Œå®å®šä¹‰
- æµ‹è¯•æ¡†æ¶è¦æ±‚
- ç”¨ä¾‹è¦†ç›–æŒ‡å¯¼
```

**ç”Ÿæˆæµç¨‹**ï¼š
```
å‡½æ•°ä¿¡æ¯ + ç¼–è¯‘ä¿¡æ¯ 
    â†“
æ„é€ æç¤ºè¯ (PromptBuilder)
    â†“
è°ƒç”¨vLLM API (LLMClient)
    â†“
æ¸…ç†å“åº” (_clean_response)
    â†“
ç”Ÿæˆæµ‹è¯•ä»£ç  (å«fallback)
```

---

#### 4. **ut_workflow_llm.py** (380è¡Œ)
**èŒè´£**ï¼šä¸»å·¥ä½œæµè„šæœ¬ï¼Œåè°ƒæ‰€æœ‰ç»„ä»¶

```python
# ä¸»è¦ç±»
class LLMUTWorkflow:
    - analyze_codebase()      # æ­¥éª¤1
    - print_compile_info()    # æ­¥éª¤2
    - generate_tests()        # æ­¥éª¤3
    - verify_tests()          # æ­¥éª¤4
    - run_full_workflow()     # å®Œæ•´æµç¨‹

# CLIå‚æ•°
--project-dir         # é¡¹ç›®æ ¹ç›®å½•
--compile-commands    # JSONæ–‡ä»¶è·¯å¾„
--llm-api            # vLLM APIåœ°å€
--llm-model          # æ¨¡å‹åç§°
--functions          # ç›®æ ‡å‡½æ•°
--output-dir         # è¾“å‡ºç›®å½•
--analyze-only       # ä»…åˆ†æ
```

**å·¥ä½œæµæ­¥éª¤**ï¼š
```
[1/4] Analyze Codebase
      â”œâ”€ æ‰«æincludeç›®å½•
      â”œâ”€ æ‰«æsrcç›®å½•
      â””â”€ æå–å‡½æ•°ä¾èµ–å…³ç³»

[2/4] Extract Compile Info
      â”œâ”€ è§£æcompile_commands.json
      â”œâ”€ æ”¶é›†includeè·¯å¾„
      â””â”€ æ”¶é›†å®å®šä¹‰

[3/4] Generate Tests
      â”œâ”€ ä¸ºæ¯ä¸ªå‡½æ•°æ„é€ æç¤ºè¯
      â”œâ”€ è°ƒç”¨LLMç”Ÿæˆä»£ç 
      â””â”€ ä¿å­˜åˆ°æ–‡ä»¶

[4/4] Verify Tests
      â”œâ”€ æ£€æŸ¥gteståŒ…å«
      â”œâ”€ æ£€æŸ¥TESTå®šä¹‰
      â””â”€ æ£€æŸ¥EXPECT/ASSERT
```

---

### è¾…åŠ©è„šæœ¬ (é¡¹ç›®æ ¹ç›®å½•)

#### 5. **quickstart_llm.py** (350è¡Œ)
**èŒè´£**ï¼šæä¾›äº¤äº’å¼å¿«é€Ÿå¯åŠ¨ç•Œé¢

```python
# ä¸»è¦ç±»
class QuickStart:
    - check_environment()           # ç¯å¢ƒæ£€æŸ¥
    - setup_vllm()                 # vLLMè®¾ç½®æŒ‡å¼•
    - generate_compile_commands()   # ç”Ÿæˆç¼–è¯‘å‘½ä»¤
    - run_workflow()               # è¿è¡Œå·¥ä½œæµ
    - interactive_mode()           # äº¤äº’èœå•

# äº¤äº’èœå•é€‰é¡¹
1. Check Environment       âœ…
2. Setup vLLM             â„¹ï¸
3. Generate Compile Info  ğŸ”„
4. Analyze Code           ğŸ”
5. Generate Tests         ğŸš€
6. Full Workflow          âš¡
7. Exit                   âŒ
```

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
# äº¤äº’æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
python quickstart_llm.py --interactive

# ç‰¹å®šåŠŸèƒ½
python quickstart_llm.py --check
python quickstart_llm.py --generate-compile-commands
python quickstart_llm.py --analyze
python quickstart_llm.py --generate
```

---

### é…ç½®æ–‡ä»¶

#### 6. **llm_workflow_config.json**
```json
{
  "project": { ... },
  "llm": {
    "api_base": "http://localhost:8000",
    "model": "qwen-coder",
    "temperature": 0.7,
    "max_tokens": 4096
  },
  "test_generation": {
    "framework": "gtest",
    "output_suffix": "_llm_test.cpp"
  },
  "compile_commands": {
    "search_paths": [...]
  }
}
```

---

### æ–‡æ¡£

#### 7. **LLM_WORKFLOW_GUIDE.md** (32KB)
å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£ï¼ŒåŒ…å«ï¼š
- ç³»ç»Ÿæ¶æ„è¯¦è§£
- å‰ç½®ç¯å¢ƒè®¾ç½®
- è¯¦ç»†ä½¿ç”¨æŒ‡å—
- ç»„ä»¶APIè¯¦è§£
- æ•…éšœæ’é™¤æŒ‡å—
- CI/CDé›†æˆç¤ºä¾‹

#### 8. **QUICKREF_LLM.md** (10KB)
å¿«é€Ÿå‚è€ƒæŒ‡å—ï¼ŒåŒ…å«ï¼š
- 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹
- å¸¸ç”¨å‘½ä»¤
- æ•…éšœæ’æŸ¥
- æœ€ä½³å®è·µ

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¤ºä¾‹

### åœºæ™¯ï¼šä¸º validator.c ä¸­çš„å‡½æ•°ç”Ÿæˆæµ‹è¯•

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/c-unit-test-workflow

# 2. ç¡®ä¿compile_commands.jsonå·²ç”Ÿæˆ
ls build-ninja-msvc/compile_commands.json  # âœ“ å·²å­˜åœ¨

# 3. å¯åŠ¨vLLMæœåŠ¡ï¼ˆå¦‚æœè¿˜æ²¡å¯åŠ¨ï¼‰
# åœ¨è¿œç¨‹æœåŠ¡å™¨ï¼š
# python -m vllm.entrypoints.openai.api_server \
#   --model Qwen/Qwen2.5-Coder-32B-Instruct \
#   --tensor-parallel-size 2 \
#   --port 8000

# 4. è¿è¡Œå·¥ä½œæµ
python tools/ut_workflow_llm.py \
  --project-dir . \
  --compile-commands build-ninja-msvc/compile_commands.json \
  --llm-api http://192.168.1.100:8000 \
  --llm-model qwen-coder \
  --functions validate_name validate_score validate_student_id

# 5. æŸ¥çœ‹ç»“æœ
ls -la test/*_llm_test.cpp
```

### å·¥ä½œæµæ‰§è¡Œè¿‡ç¨‹

```
[LLM-based Unit Test Generation Workflow]
============================================================

[Step 1/4] Analyzing C codebase...
============================================================
âœ“ Found 10 functions
  - int validate_student_name(...)
  - int validate_score(...)
  - int validate_student_id(...)
  ...

[Step 2/4] Extracting compile information...
============================================================
âœ“ Loaded 9 compile commands

[Compile Commands Summary]
============================================================
Source files: 4
Include directories: 3
  - D:\github\c-unit-test-workflow\include
  - D:\github\c-unit-test-workflow\build-ninja-msvc\_deps\googletest-src\googlemock\include
  - D:\github\c-unit-test-workflow\build-ninja-msvc\_deps\googletest-src\googletest\include
Macros defined: 5
  - WIN32
  - _WINDOWS

[Step 3/4] Generating tests with LLM...
============================================================
Generating tests for 3 functions...

[1/3] validate_name() from src/validator.c
  Calling vLLM... (max_tokens=8192)
  âœ“ Generated 2847 chars
  âœ“ Saved to test/validate_name_llm_test.cpp

[2/3] validate_score() from src/validator.c
  Calling vLLM... (max_tokens=8192)
  âœ“ Generated 2614 chars
  âœ“ Saved to test/validate_score_llm_test.cpp

[3/3] validate_student_id() from src/validator.c
  Calling vLLM... (max_tokens=8192)
  âœ“ Generated 2521 chars
  âœ“ Saved to test/validate_student_id_llm_test.cpp

[Step 4/4] Verifying generated tests...
============================================================
Found 3 test files
  âœ“ validate_name_llm_test.cpp - Valid
  âœ“ validate_score_llm_test.cpp - Valid
  âœ“ validate_student_id_llm_test.cpp - Valid

âœ“ Workflow completed!
```

---

## ğŸ¯ ç³»ç»Ÿä¼˜åŠ¿

### 1. **é«˜è´¨é‡ä»£ç ç”Ÿæˆ**
- ä½¿ç”¨ä¸šç•Œæœ€å¼ºçš„Coderæ¨¡å‹ï¼ˆQwen3 32Bï¼‰
- è‡ªåŠ¨æ¨¡æ¿åŒ–å’Œç¼ºé™·å¤„ç†

### 2. **ç²¾ç¡®çš„ç¼–è¯‘ä¸Šä¸‹æ–‡**
- ä»compile_commands.jsonæå–å®Œæ•´ä¿¡æ¯
- åŒ…æ‹¬includeè·¯å¾„ã€å®å®šä¹‰ã€ç¼–è¯‘æ ‡å¿—
- æ”¯æŒå¤šç¼–è¯‘å™¨ï¼ˆMSVCã€GCCã€Clangï¼‰

### 3. **æ™ºèƒ½æç¤ºè¯å·¥ç¨‹**
- è‡ªåŠ¨æ„é€ æœ€ä¼˜æç¤ºè¯
- åŒ…å«å‡½æ•°ç­¾åã€ä¾èµ–å…³ç³»ã€ç¼–è¯‘ä¿¡æ¯
- å¯æ‰©å±•çš„PromptBuilder

### 4. **ç”Ÿäº§çº§é›†æˆ**
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
- æ”¯æŒæ‰¹é‡å¤„ç†å’Œéƒ¨åˆ†å¤„ç†
- å†…ç½®éªŒè¯å’Œæ—¥å¿—

### 5. **æ˜“ç”¨æ€§**
- äº¤äº’å¼å¯åŠ¨è„šæœ¬
- æ¸…æ™°çš„å‘½ä»¤è¡Œæ¥å£
- è¯¦ç»†çš„æ–‡æ¡£å’ŒæŒ‡å—

---

## ğŸš€ å…³é”®åˆ›æ–°ç‚¹

### 1. **ç¼–è¯‘ä¿¡æ¯åˆ©ç”¨**
å°†compile_commands.jsonçš„ä¿¡æ¯å®Œå…¨åˆ©ç”¨ï¼Œæä¾›ç»™LLM:
```
ç¼–è¯‘å™¨ â†’ é“¾æ¥å™¨ â†’ Includeè·¯å¾„ â†’ å®å®šä¹‰ â†’ æ ‡å‡†ç‰ˆæœ¬ â†’ LLMä¸Šä¸‹æ–‡
```

### 2. **å¤šå±‚æ¬¡æç¤ºè¯**
```
åŸºç¡€ä¿¡æ¯å±‚    â†’ å‡½æ•°ç­¾åå’Œå‚æ•°
ä¾èµ–å±‚       â†’ å¤–éƒ¨è°ƒç”¨å’Œinclude
ç¼–è¯‘å±‚       â†’ ç¼–è¯‘é€‰é¡¹å’Œå®
æµ‹è¯•å±‚       â†’ æµ‹è¯•æ¡†æ¶å’Œç”¨ä¾‹è¦æ±‚
```

### 3. **è‡ªè¿›åŒ–ç³»ç»Ÿ**
```
ç”Ÿæˆ â†’ éªŒè¯ â†’ åé¦ˆ â†’ ä¼˜åŒ– â†’ å†ç”Ÿæˆ
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | å€¼ | è¯´æ˜ |
|------|-----|------|
| ä»£ç åˆ†æé€Ÿåº¦ | < 1s | å°è§„æ¨¡é¡¹ç›® |
| JSONè§£æé€Ÿåº¦ | < 0.5s | compile_commands |
| å•å‡½æ•°ç”Ÿæˆæ—¶é—´ | 15-30s | vLLMæ¨ç† |
| ä¸‰å‡½æ•°æ‰¹é‡ç”Ÿæˆ | 60-90s | å…¸å‹åœºæ™¯ |
| ç”Ÿæˆä»£ç é•¿åº¦ | 2000-5000å­—ç¬¦ | å®Œæ•´æµ‹è¯•æ–‡ä»¶ |
| æµ‹è¯•è¦†ç›–ç‡ | 80%+ | è‡ªåŠ¨è¦†ç›–è¾¹ç•Œæƒ…å†µ |

---

## ğŸ” å®‰å…¨æ€§å’Œå¯é æ€§

### é”™è¯¯å¤„ç†
- âœ… vLLMè¿æ¥å¤±è´¥ â†’ æä¾›fallbackæµ‹è¯•æ¨¡æ¿
- âœ… è¶…æ—¶å¤„ç† â†’ å¯é…ç½®è¶…æ—¶æ—¶é—´
- âœ… å“åº”æ¸…ç† â†’ ç§»é™¤markdownæ ‡è®°ç­‰
- âœ… éªŒè¯æ£€æŸ¥ â†’ åŸºæœ¬çš„è¯­æ³•æ£€æŸ¥

### æ—¥å¿—è®°å½•
```
DEBUG: è¯¦ç»†çš„APIè°ƒç”¨ä¿¡æ¯
INFO:  å·¥ä½œæµæ­¥éª¤è¿›åº¦
WARNING: æ½œåœ¨é—®é¢˜æç¤º
ERROR: é”™è¯¯ä¿¡æ¯å’Œæ¢å¤å»ºè®®
```

---

## ğŸ“š å­¦ä¹ è·¯å¾„

### åˆçº§ç”¨æˆ·
1. è¿è¡Œ `quickstart_llm.py --interactive`
2. æŸ¥çœ‹ [QUICKREF_LLM.md](QUICKREF_LLM.md)
3. ä¸ºç®€å•å‡½æ•°ç”Ÿæˆæµ‹è¯•

### ä¸­çº§ç”¨æˆ·
1. é˜…è¯» [LLM_WORKFLOW_GUIDE.md](LLM_WORKFLOW_GUIDE.md)
2. ç†è§£æç¤ºè¯å·¥ç¨‹åŸç†
3. è‡ªå®šä¹‰ç”Ÿæˆå‚æ•°

### é«˜çº§ç”¨æˆ·
1. ä¿®æ”¹PromptBuilderè‡ªå®šä¹‰æç¤ºè¯
2. æ‰©å±•ç¼–è¯‘å‘½ä»¤è§£æå™¨æ”¯æŒæ–°ç¼–è¯‘å™¨
3. é›†æˆåˆ°CI/CDæµç¨‹

---

## ğŸ¤ è´¡çŒ®å’Œæ”¹è¿›æ–¹å‘

### çŸ­æœŸ
- [ ] æ”¯æŒæ›´å¤šç¼–è¯‘å™¨ï¼ˆClang-clã€ICCç­‰ï¼‰
- [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] æ”¹è¿›é”™è¯¯æ¶ˆæ¯

### ä¸­æœŸ
- [ ] æœ¬åœ°åŒ–å¤šè¯­è¨€æ”¯æŒ
- [ ] Web UIç•Œé¢
- [ ] ç‰ˆæœ¬æ§åˆ¶é›†æˆ

### é•¿æœŸ
- [ ] è‡ªå­¦ä¹ åé¦ˆå¾ªç¯
- [ ] åˆ†å¸ƒå¼ç”Ÿæˆ
- [ ] æµ‹è¯•è´¨é‡è¯„åˆ†ç³»ç»Ÿ

---

**ç³»ç»Ÿæ„å»ºå®Œæˆï¼ç°åœ¨å¯ä»¥å¼€å§‹ä½¿ç”¨AIé©±åŠ¨çš„å•å…ƒæµ‹è¯•ç”Ÿæˆå·¥ä½œæµã€‚** ğŸ‰

å»ºè®®å…ˆä» `python quickstart_llm.py --interactive` å¼€å§‹ä½“éªŒï¼
